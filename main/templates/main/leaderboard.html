{% extends 'main/base.html' %}
<style type="text/css">
    .boxhead a {
        color: #FFFFFF;
        text-decoration: none;
    }
</style>
{% block title %}Leaderboard{% endblock %}

{% block content %}
{% if user.is_authenticated %}    
    <h2>Leaderboard</h2>
    <br>
    
    

    <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Points</th>
            <th scope="col">View Comments</th>
          </tr>
        </thead>

        <tbody>
        {% with i=1 %}
            {% for each in board %}
                {% for academician in academicians %}
                    {% if academician.id == each.academician %}  

                    <tr class="clickable-row", data-href="url://academicians/academician">
                        <th scope="row">{{forloop.parentloop.counter}}</th>
                        <td>{{academician}}</td>
                        <td>{{each.rating__avg}}</td>
                        <td data-href=""><a href="/academicians/{{academician}}">View comments</a></td>
                    </tr>
                    
                    {% endif %}
                {% endfor%}
            {% endfor%}       
        {% endwith %}
        
        </tbody>
      </table>
    
{% else %}
<a href="/login">Login</a> to see the content
{% endif %}

{% endblock %}